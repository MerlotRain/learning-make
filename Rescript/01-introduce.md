# ReScript

一门简洁、高效、快速的脚本语言，可以被编译成JavaScript进行执行。


## 基本类型

### string

与JavaScript声明方式类似，使用`let`关键字表示
```res
// Demo.res
let str = "Hello ReScript"
```
与JavaScript不同的是，字符串只能使用`""`来表达，不能使用`''`来表示。
且多行字符串也不需要使用任何连接符号。

### int
整形数字，不同于JavaScript中的number含混不清，这里对类型做了一定的区分，但只做了整形和浮点的区分，没有进一步按位和符号划分

某种程度来讲，这种脚本语言似乎也不需要考虑`uint8_t`比`uint32_t`更节省空间（大概）

### float
浮点数，提供语法糖`let a = 2.`表示一个浮点数（很多语言都可以这么使用）

### bool
只有`true`和`false`两种

### char
用于表示一个字符

### unit
类似于`void`或者`undefined`，还算比较常用

## 运算符

### 基本运算符
运算符主要作用与基本类型，例如`+`,`-`,`*`,`/`.

一个重要的问题是，在类型不显示声明的语言中，是否可以直接做运算呢?

```JS
function sum(a, b) {
  return a + b;
}
```

对于这段代码，我们都知道，随着`a`,`b`值的不同，运算的结果也存在不同。这将带来很大的困惑，如果单元测试不完备，很可能等到项目上线时出现预料之外的错误。

我们可以对`a`,`b`做类型判断，然后抛出异常，但这种做法明显过于繁琐。

另外一个重要的问题是，整数和浮点数能否直接相加?

从经验来看，回答应该是`Yes`，但事实真的如此吗，我们用C++来做验证
```C++

double sum(int a, double b)
{
    return a + b;
}

template<class T>
T sumT1(T a, T b)
{
    return a + b;
}

template <class T, class U> 
auto sumT2(T a, U b) -> decltype(a + b) {
  return a + b;
}

```

上述代码中，`sum`函数内部做了隐式转换，所以最终计算通过。

而`sumT1(1, 1.2)`则编译不通过。

这似乎不是一个合理的例子，但说明了两个问题：

* `int`和`float`是两个类型
* 不同类型相加要做隐式或者显式转换

ReScript为了解决这个问题，提出了一种**蹩脚（？其实还算好用，但总觉得奇怪）**的操作

```res
let int_add = (a, b) => a + b
let float_add = (a, b) => a +. b
let string_cat = (a, b) => a ++ b
```

通过不同的运算符，规定了输入值类型

如果是`int`的运算，则使用`+`,`-`,`*`,`/`

如果是`float`的运算，则使用`+.`,`-.`,`*.`,`/.`

如果是`string`的运算，则使用`++`

如果你问我一定要计算两个不同类型的加结果，例如`int`和`float`怎么传参相加，我只能告诉你，如果你想要`int`结果，就把`float`转为`int`,否则就把`int`转为`float`.

### 逻辑运算符

`&&` `||` `!`

这些都保持一致，没什么奇怪的

### 位运算符

目前似乎没有，如果这里有问题，欢迎补充